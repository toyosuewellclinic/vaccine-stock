<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ワクチン在庫</title>
<style>
body{margin:16px;font-family:sans-serif}
#vsw .upd{font-size:12px;color:#888;text-align:right;margin-bottom:12px}
#vsw .dot{display:inline-block;width:7px;height:7px;border-radius:50%;background:#27ae60;margin-right:4px;vertical-align:middle}
#vsw h3{font-size:15px;font-weight:bold;margin:20px 0 6px;padding:6px 12px;border-left:4px solid #0066cc;background:#f0f4f8;color:#1a2332}
#vsw table{width:100%;border-collapse:collapse;font-size:14px;margin-bottom:8px}
#vsw th{background:#f0f4f8;padding:9px 14px;text-align:left;font-weight:bold;border:1px solid #dde4ec;color:#333}
#vsw td{padding:9px 14px;border:1px solid #dde4ec;vertical-align:middle}
#vsw tr:nth-child(even) td{background:#f8fafc}
#vsw .q{text-align:center;font-weight:bold;font-size:15px;min-width:70px;white-space:nowrap}
#vsw .q.out{color:#c0392b}
#vsw .q.low{color:#e67e22}
#vsw .q.ok{color:#27ae60}
#vsw .b{display:inline-block;font-size:11px;padding:2px 7px;border-radius:20px;font-weight:bold;margin-left:6px;vertical-align:middle}
#vsw .b.out{background:#fdecea;color:#c0392b}
#vsw .b.low{background:#fef9e7;color:#e67e22}
</style>
</head>
<body>
<div id="vsw"><p style="color:#888">⏳ 在庫情報を読み込み中...</p></div>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
!function(){
  var cfg={apiKey:'AIzaSyAbUBYMYfKoQmBuPZVfCjjtBfZ0SoWTgMU',authDomain:'clinic-inventory-c2207.firebaseapp.com',projectId:'clinic-inventory-c2207',storageBucket:'clinic-inventory-c2207.firebasestorage.app',messagingSenderId:'609898487561',appId:'1:609898487561:web:6388126fef0c9672803dd8'};
  var app;
  try{app=firebase.app('vsw');}catch(e){app=firebase.initializeApp(cfg,'vsw');}
  var db=firebase.firestore(app);
  var DOM=[
    {n:'おたふくワクチン',p:'6,600円(税込)'},
    {n:'国産A型肝炎ワクチン(エイムゲン)',p:'8,800円(税込)'},
    {n:'破傷風トキソイド',p:'3,800円(税込)'},
    {n:'3種混合(DPT)ワクチン(トリビック)',p:'5,500円(税込)'},
    {n:'帯状疱疹ワクチン(シングリックス)',p:'22,000円(税込)'},
    {n:'肺炎球菌ワクチン(ニューモバックス)',p:'8,500円(税込)'},
    {n:'水痘・帯状疱疹ワクチン（生ワクチン）',p:'8,400円(税込)'},
    {n:'MRワクチン(ミールビック)',p:'8,800円(税込)'},
    {n:'国産B型肝炎ワクチン(ビームゲン)',p:'3,500円(税込)'}
  ];
  var IMP=[
    {n:'輸入腸チフスワクチン(Typbar TCV)',p:'11,000円(税込)'},
    {n:'輸入狂犬病ワクチン(ChiroRab)',p:'14,800円(税込)'},
    {n:'輸入A型肝炎ワクチン(Havrix)',p:'8,800円(税込)'},
    {n:'輸入コレラワクチン(DUKORAL)',p:'12,000円(税込)'},
    {n:'輸入3種混合ワクチン（Boostrix）',p:'5,500円(税込)'},
    {n:'輸入日本脳炎ワクチン(JENVAC)',p:'6,600円(税込)'},
    {n:'輸入A型B型肝炎ワクチン(Twinrix)',p:'17,600円(税込)'}
  ];
  function row(c,map){
    var pd=map[c.n],q='<span style="color:#bbb">－</span>',b='',cls='';
    if(pd){
      if(pd.stock===0){
